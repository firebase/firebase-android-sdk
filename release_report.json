{
    "changesByLibraryName": {
        "firebase-ai": [
            {
                "commitId": "6dab9361101c9c5de04ad7cf4217e4594b543e9b",
                "prId": "7599",
                "author": "Rodrigo Lazo",
                "message": "[AI] Add support for Thinking Levels (#7599)\n\nGemini 3 models support thinking levels, an alternative to thinking\nbudgets. They are preset values that can use to limit how many tokens\nare dedicated to the thinking process.\n\nThe [thinking\ndocumentation](https://firebase.google.com/docs/ai-logic/thinking) gives\nmore details.",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/6dab9361101c9c5de04ad7cf4217e4594b543e9b",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7599"
            },
            {
                "commitId": "7887e47404fedb8fe72319b144816a26d736a9f9",
                "prId": "7597",
                "author": "Rosário P. Fernandes",
                "message": "feat(ai): add equals() to GenerativeBackend (#7597)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/7887e47404fedb8fe72319b144816a26d736a9f9",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7597"
            }
        ],
        "firebase-dataconnect": [
            {
                "commitId": "c8ada3ce645798bd8bacd5c9b5cb08bdf7254a34",
                "prId": "7630",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: freeze mutable lists in tests to improve readability (#7630)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/c8ada3ce645798bd8bacd5c9b5cb08bdf7254a34",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7630"
            },
            {
                "commitId": "f6f500b61c66a0618dd9a8d9a6e376ed3827a8fb",
                "prId": "7629",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: internal refactor of chain of \"ifs\" to a \"when\" expression (#7629)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/f6f500b61c66a0618dd9a8d9a6e376ed3827a8fb",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7629"
            },
            {
                "commitId": "7d35531c68693748f2e4845893790d8a5c282544",
                "prId": "7628",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: use Arb.choice() instead of Arb.merge() (#7628)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/7d35531c68693748f2e4845893790d8a5c282544",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7628"
            },
            {
                "commitId": "e99cb3a932b2a8ea69b1bc455156c7a3d347b1fd",
                "prId": "7619",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: re-write Struct and ListValue arbs (#7619)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/e99cb3a932b2a8ea69b1bc455156c7a3d347b1fd",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7619"
            },
            {
                "commitId": "a9f0d20ac37bed2a243428590d0f00e3cf61ade1",
                "prId": "7621",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: use Arb.next(RandomSource, edgeCaseProbability) instead of PropertyContext.sampleFromArb() (#7621)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/a9f0d20ac37bed2a243428590d0f00e3cf61ade1",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7621"
            },
            {
                "commitId": "f6880d99bd9f482aace6d11352043bded433a7f4",
                "prId": "7620",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: increase maxDiscardPercentage in DataConnectOperationFailureResponseImplUnitTest.kt (#7620)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/f6880d99bd9f482aace6d11352043bded433a7f4",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7620"
            },
            {
                "commitId": "f20992cdf74ca5846119cdc18e2328f179a598c8",
                "prId": "7618",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: RandomSeedTestRule.kt tiny log message cleanup (#7618)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/f20992cdf74ca5846119cdc18e2328f179a598c8",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7618"
            },
            {
                "commitId": "90182b3198e1c8b95c3c0caf82e8c4c8a5213d18",
                "prId": "7617",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: de-duplicate \"proto value path\" logic (#7617)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/90182b3198e1c8b95c3c0caf82e8c4c8a5213d18",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7617"
            },
            {
                "commitId": "a41dfcf12cbbe0dd269fcfb7f78bb7e69090a494",
                "prId": "7613",
                "author": "Denver Coneybeare",
                "message": "dataconnect: internal refactor to use higher-level types to work with proto struct paths (#7613)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/a41dfcf12cbbe0dd269fcfb7f78bb7e69090a494",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7613"
            },
            {
                "commitId": "8e6f17f06c07a2b40e45a8ac6e7ee4c978b8fa5f",
                "prId": "7608",
                "author": "Denver Coneybeare",
                "message": "dataconnect: ci: upgrade data connect emulator to 15.0.0 (was 14.27.0) and firebase-tools to 15.0.0 (was 14.27.0) (#7608)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/8e6f17f06c07a2b40e45a8ac6e7ee4c978b8fa5f",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7608"
            },
            {
                "commitId": "bc2bc5c60b99e621d4e99be1f9a1e9d84a824c6d",
                "prId": "7607",
                "author": "Denver Coneybeare",
                "message": "dataconnect: ci: upgrade data connect emulator to 2.17.3 (was 2.15.1) (#7607)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/bc2bc5c60b99e621d4e99be1f9a1e9d84a824c6d",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7607"
            },
            {
                "commitId": "ce4aa8759fb1ace6989ac56de85adc0df98ffcc4",
                "prId": "7604",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: rename ProtoTestUtils.kt to ProtoAssertions.kt (#7604)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/ce4aa8759fb1ace6989ac56de85adc0df98ffcc4",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7604"
            },
            {
                "commitId": "68ae3fee744a51bff63435b057146b70ae391ee1",
                "prId": "7603",
                "author": "Denver Coneybeare",
                "message": "dataconnect: gradle plugin: fix DataConnectExecutableDownloadTask for arch-specific executable versions (#7603)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/68ae3fee744a51bff63435b057146b70ae391ee1",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7603"
            },
            {
                "commitId": "dcf5c33cc2bb6d3f949a658528e86ce8adc992fb",
                "prId": "7600",
                "author": "Denver Coneybeare",
                "message": "dataconnect: fix `updateJson` task to find cli versions whose file name contains its target cpu architecture (#7600)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/dcf5c33cc2bb6d3f949a658528e86ce8adc992fb",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7600"
            },
            {
                "commitId": "6472706841a0852aa08534fbc0dd649a4e005a5d",
                "prId": "7601",
                "author": "Denver Coneybeare",
                "message": "dataconnect: testing: shouldBe for Struct and Value improved efficiency and difference reporting (#7601)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/6472706841a0852aa08534fbc0dd649a4e005a5d",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7601"
            },
            {
                "commitId": "df21d8bfc0091b97c03406c5fac17c24d9ae533e",
                "prId": "7589",
                "author": "Denver Coneybeare",
                "message": "dataconnect: proto Arb improvements for testing (#7589)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/df21d8bfc0091b97c03406c5fac17c24d9ae533e",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7589"
            },
            {
                "commitId": "3c0af39fa66a32b664e5ff3f01b2714f97a6cb3e",
                "prId": "7585",
                "author": "Denver Coneybeare",
                "message": "dataconnect: ci: upgrade data connect emulator to 2.15.1 (was 2.14.0) and firebase-tools to 14.27.0 (was 14.18.0) (#7585)\n\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/3c0af39fa66a32b664e5ff3f01b2714f97a6cb3e",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7585"
            }
        ],
        "firebase-firestore": [
            {
                "commitId": "b006a573f4404014cc5fef875ca9def84e9e0f99",
                "prId": "7590",
                "author": "wu-hui",
                "message": "Pipelines for Firestore (#7590)\n\nPipelines for Firestore enters Public Preview\n",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/b006a573f4404014cc5fef875ca9def84e9e0f99",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7590"
            }
        ],
        "firebase-crashlytics": [],
        "firebase-crashlytics-ndk": [],
        "firebase-sessions": [
            {
                "commitId": "813d02b10d84cbaec37911baefce3fb7e83c56f6",
                "prId": "7318",
                "author": "Joseph Rodiz",
                "message": "Restore SessionLifecycleService as no-op (#7318)\n\nIn context of class not found exception:\nhttps://github.com/firebase/firebase-android-sdk/issues/7296\n\nThis PR restore a previously deleted service as no operational\n\n\nThe user reported a crash after upgrading to BoM 34.1.0 only for some\nSamsung and Oppo devices in Android 14/15.\nhttps://firebase.google.com/support/release-notes/android\n\n\n\nThere was a major refactor on the way of monitoring application\nlifecycle events and determining when/if a new session should be\ngenerated. Which was the main purpose for `SessionLifecycleService`.\n[Firebase\nSession](https://github.com/firebase/firebase-android-sdk/blob/main/firebase-sessions/README.md)\nis used by Crashlytics and Performance internally to measure sessions\n\n[The\nrefactor](https://github.com/firebase/firebase-android-sdk/pull/7039/files#diff-ea2eb8012abccd4cb5dccba37ec109f0eaa2a82fe6be852b5be7c32ed8de2b45)\nproposes the elimination of the service `SessionLifecycleService` in\nfavor of `SharedSessionRepository`.\n\nThis refactor was released on version `releases/m167` ([see commit\nhere](https://github.com/firebase/firebase-android-sdk/commit/c9a4a3d749440833a75d4de686d60f825ffd79c8)).\n\nSee diff of m167 with m166\n[here](https://github.com/firebase/firebase-android-sdk/compare/releases/m166...releases/m167).\n\n\n\nLooking for `SessionLifecycleService` usages into the SDK I found just a\nleftover reference in an Android Test Manifest. So I can conclude this\nis not production code.\n\nReviewing the original `SessionLifecycleService` class I found out this\nservice contains a `Binder` implementation\n\nIt sounds like the Android system on those specific devices\n(Samsung/Oppo on Android 14/15) might be trying to recreate the\n`SessionLifecycleService` based on a cached manifest from the previous\nversion of the host app, even though the service class itself is no\nlonger present in the new version. This leads to the\n`ClassNotFoundException`.\n\n\n\n**Conclusions:**\n\nA) Stale Service Connections (I see this as the root cause, I’d like to\nreview g3 code to confirm there is not source code having references to\nthe removed service):\n\nIf any component within the host app (or the SDK itself) was bound to\n`SessionLifecycleService` and the `ServiceConnection` wasn't properly\nreleased or unbound before the app update (or if the system is trying to\nrestore a previous binding state), the system will attempt to call\n`onBind` on the service.\n\nWhen it tries to instantiate `SessionLifecycleService` to do this and\nfinds the class missing, it results in the `ClassNotFoundException`.\n\nThe git diff showed `android:exported=\"false\"` for the service, which is\ngood as it means only the SDK could bind to it.\n\nWhy this still leads to `ClassNotFoundException` on update:\n\nEven if the new code doesn't try to bind to the removed service anymore,\nthe Android system might still attempt to re-establish connections that\nit considers active or pending from the previous app session, especially\nif the app process didn't terminate cleanly or if the system is trying\nto restore the app's state after an update. If a `ServiceConnection` was\nactive when the app was last running the old version, the system might\ntry to call `onServiceConnected` for that connection, which requires\ninstantiating the service.\n\n\n\ntl; dr:\nB) Android /System Caching/State Retention:\n\nThe Android Package Manager or Activity Manager on certain devices/OS\nversions might retain information about previously registered services.\n\nIf the service was started in a \"sticky\" way, the system will try to\nrestart it after it's killed or after an app update if it believes the\nservice should still be running. When it tries to do so with the updated\napp that lacks the service class, it crashes.\n\nC) Stale System State: Sometimes, especially with certain OEM\ncustomizations or newer Android versions, the system's package manager\nor activity manager might not perfectly clear all references to\ncomponents from an old app version immediately upon an update. For users\nexperiencing this: The most reliable fix is often a clean reinstall.\n\nD) OEM Customizations: Samsung and Oppo devices have their own\nmodifications to Android, which can sometimes lead to different\nbehaviors in how app updates and service lifecycles are handled.\n\n\n\n\n**Proposed workaround:**\n\nFuture Service Removals (Refined Mitigation Strategy for Bound\nServices):\n\n**Version N+1** (Graceful Shutdown & Deprecation): Return the service\nclass in the codebase, modify its onBind(Intent intent) method to return\nnull immediately. This signals to any clients attempting to bind that\nthe service is not available or is shutting down. Crucially, mark the\nservice as `android:enabled=\"false\"` in the AndroidManifest.xml. **This\nexplicitly tells the system the service should not be started or\nbound**.\n\n\n\n**Version N+2** (Full Removal): Now that clients have had a version\nwhere the service gracefully refuses bindings and is disabled, it's\nsafer to remove the service class and its manifest entry.",
                "commitLink": "https://github.com/firebase/firebase-android-sdk/commit/813d02b10d84cbaec37911baefce3fb7e83c56f6",
                "prLink": "https://github.com/firebase/firebase-android-sdk/pull/7318"
            }
        ]
    },
    "changedLibrariesWithNoChangelog": [
        ":firebase-perf"
    ]
}